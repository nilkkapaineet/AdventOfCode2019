let input = "59772698208671263608240764571860866740121164692713197043172876418614411671204569068438371694198033241854293277505547521082227127768000396875825588514931816469636073669086528579846568167984238468847424310692809356588283194938312247006770713872391449523616600709476337381408155057994717671310487116607321731472193054148383351831456193884046899113727301389297433553956552888308567897333657138353770191097676986516493304731239036959591922009371079393026332649558536888902303554797360691183681625604439250088062481052510016157472847289467410561025668637527408406615316940050060474260802000437356279910335624476330375485351373298491579364732029523664108987"
const base = [0, 1, 0, -1]

for (let phase=1; phase<101; phase++) {
  let newInput = new Array()
  for (let inc=0; inc<input.length; inc++) {
    let baseRepeat = new Array
    let value = 0
    for (let j=0; j<base.length; j++) {
      for (let k=0; k<(inc+1); k++) {
        baseRepeat.push(base[j%4])
      }
    }
    for (let i=0; i<input.length; i++) {
      const num = parseInt(input.charAt(i))
      value += num*baseRepeat[(i+1)%(baseRepeat.length)]
    }
    newInput.push(value.toString().charAt(value.toString().length-1))
  }
  input = ""
  for (i=0; i<newInput.length; i++) {
    input = input.concat(newInput[i])  
  }
}
console.log(input.substring(0, 8))
